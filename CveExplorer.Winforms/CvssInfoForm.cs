namespace CveExplorer.Winforms;

public partial class CvssInfoForm : Form
{
    public CvssInfoForm(string vetorCvss, double pontuacaoCvss, DateTime dataHoraCvss)
    {
        InitializeComponent();

        txtCvss.Text = pontuacaoCvss.ToString("N2");
        txtCvssTime.Text = dataHoraCvss.ToString(Constantes.FormatoData);
        txtCvssVector.Text = vetorCvss;
    }

    private void btCalcularCvss_Click(object sender, EventArgs e)
    {
        var calculadoraCvss = new CalculadoraCvss(txtVetorCvss.Text);
        
        var pontuacaoBase = calculadoraCvss.CalcularPontuacaoBase();
        var pontuacaoTemporal = calculadoraCvss.CalcularPontuacaoTemporal();
        var pontuacaoAmbiental = calculadoraCvss.CalcularPontuacaoAmbiental();

        lbPontuacaoBase.Text = $"Pontuação base: {Environment.NewLine}{pontuacaoBase:n2}";
        lbPontuacaoTemporal.Text = $"Pontuação temporal: {Environment.NewLine}{pontuacaoTemporal:n2}";
        lbPontuacaoAmbiental.Text = $"Pontuação ambiental: {Environment.NewLine}{pontuacaoAmbiental:n2}";
    }

    private void label2_Click(object sender, EventArgs e)
    {

    }

    private void lbPontuacaoTemporal_Click(object sender, EventArgs e)
    {

    }

    private void lbPontuacaoAmbiental_Click(object sender, EventArgs e)
    {

    }
}